{% extends "base.html" %}
{% block title %}Home{% endblock %}

{% block content %}
<h3 class="text-center">Train Route Planner</h3>

<form method="POST" class="mt-4">
    <div class="form-group mb-3">
        <label for="from_city">From:</label>
        <select name="from_city" id="from_city" class="form-control" required>
            {% for city in cities %}
                <option value="{{ city.id }}">{{ city.name }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group mb-3">
        <label for="to_city">To:</label>
        <select name="to_city" id="to_city" class="form-control" required>
            {% for city in cities %}
                <option value="{{ city.id }}">{{ city.name }}</option>
            {% endfor %}
        </select>
    </div>

    <button type="submit" class="btn btn-primary">Find Route</button>
</form>

{% if route_path %}
    <h4>Route Plan</h4>
    <ol class="list-group">
        {% for route in route_path %}
            <li class="list-group-item">
                <strong>{{ route.from_city.name }}</strong> → 
                <strong>{{ route.to_city.name }}</strong><br />
                Train: {{ route.train_name }}<br />
                Departure: {{ route.departure }} — Arrival: {{ route.arrival }}<br />
                Duration: {{ route.duration }}
            </li>
        {% endfor %}
    </ol>
{% elif request.method == 'POST' %}
    <div class="alert alert-warning mt-4">No route found.</div>
{% endif %}
{% endblock %}


