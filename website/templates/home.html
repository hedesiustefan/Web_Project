{% extends "base.html" %}
{% block title %}Home{% endblock %}

{% block content %}
<h3 class="text-center">Train Route Planner</h3>

<form method="POST" class="mt-4">
    <div class="form-group mb-3">
        <label for="from_city">From:</label>
        <select name="from_city" id="from_city" class="form-control" required>
            {% for city in cities %}
                <option value="{{ city.id }}">{{ city.name }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group mb-3">
        <label for="to_city">To:</label>
        <select name="to_city" id="to_city" class="form-control" required>
            {% for city in cities %}
                <option value="{{ city.id }}">{{ city.name }}</option>
            {% endfor %}
        </select>
    </div>

    <button type="submit" class="btn btn-primary">Find Route</button>
</form>

{% if path %}
    <h3>Route Plan</h3>
    <ol>
        {% for segment in path %}
            <li>
                <strong>From:</strong> {{ segment.from_city.name }} â†’
                <strong>To:</strong> {{ segment.to_city.name }} |
                <strong>Train:</strong> {{ segment.train_name }} |
                <strong>Dep:</strong> {{ segment.departure }} |
                <strong>Arr:</strong> {{ segment.arrival }} |
                <strong>Dur:</strong> {{ segment.duration }}
            </li>
        {% endfor %}
    </ol>
{% elif request.method == 'POST' %}
    <p>No route found between selected cities.</p>
{% endif %}
{% endblock %}


