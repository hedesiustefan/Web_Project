{% extends "base.html" %}
{% block title %}Home{% endblock %}

{% block content %}
<h3 class="text-center">Train Route Planner</h3>

<form method="POST" class="mt-4">
    <div class="form-group mb-3">
        <label for="from_city">From:</label>
        <select name="from_city" id="from_city" class="form-control" required>
            {% for city in cities %}
                <option value="{{ city.id }}">{{ city.name }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group mb-3">
        <label for="to_city">To:</label>
        <select name="to_city" id="to_city" class="form-control" required>
            {% for city in cities %}
                <option value="{{ city.id }}">{{ city.name }}</option>
            {% endfor %}
        </select>
    </div>

    <button type="submit" class="btn btn-primary">Find Route</button>
</form>

{% if routes %}
    <h3>Fastest Route</h3>
    <ol>
        {% for r in routes %}
        <li>
            <strong>{{ r.from_city.name }}</strong> â†’ <strong>{{ r.to_city.name }}</strong><br>
            Train: {{ r.train_name }} | Departure: {{ r.departure }} | Arrival: {{ r.arrival }} | Duration: {{ r.duration }}
        </li>
        {% endfor %}
    </ol>
{% elif request.method == 'POST' %}
    <p>No valid route found.</p>
{% endif %}
{% endblock %}


